(window.webpackJsonphw2bank=window.webpackJsonphw2bank||[]).push([[0],{2:function(e,t,a){e.exports={photoCard:"PhotoCard_photoCard__3MENn",img:"PhotoCard_img__1fJWt",stats:"PhotoCard_stats__1jT7L",statsItem:"PhotoCard_statsItem__gG7Ic",fullscreenButton:"PhotoCard_fullscreenButton__2SMwR"}},22:function(e,t,a){e.exports={searchform:"SearchForm_searchform__2a8hE"}},25:function(e,t,a){e.exports=a(48)},3:function(e,t,a){e.exports={gallery:"Gallery_gallery__olLPN",button:"Gallery_button__3zjxj"}},48:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(16),s=a.n(r),l=a(4),c=a.n(l),i=a(6),m=a(17),u=a(18),d=a(19),p=a(23),g=a(20),h=a(24),f=a(21),w=a.n(f),y=function(e,t){return w.a.get("https://pixabay.com/api/?image_type=photo&orientation=horizontal&q="+e+"&page="+t+"&per_page=12&key=13241537-06d8871706b8937518ecf25ca")},b=a(22),_=a.n(b),v=function(e){var t=e.value,a=e.onSubmit,n=e.onChange;return o.a.createElement("form",{onSubmit:a,className:_.a.searchform},o.a.createElement("input",{name:"query",onChange:n,value:t,type:"text",autoComplete:"off",placeholder:"Search images..."}))},E=a(2),C=a.n(E),k=function(e){var t=e.type,a=e.likes,n=e.views,r=e.comments,s=e.downloads,l=e.webformatURL,c=e.largeImageURL,i=e.openModal;return o.a.createElement("div",{className:C.a.photoCard},o.a.createElement("img",{className:C.a.img,src:l,alt:t}),o.a.createElement("div",{className:C.a.stats},o.a.createElement("p",{className:C.a.statsItem},o.a.createElement("i",{className:"material-icons"},"thumb_up"),a),o.a.createElement("p",{className:C.a.statsItem},o.a.createElement("i",{className:"material-icons"},"visibility"),n),o.a.createElement("p",{className:C.a.statsItem},o.a.createElement("i",{className:"material-icons"},"comment"),r),o.a.createElement("p",{className:C.a.statsItem},o.a.createElement("i",{className:"material-icons"},"cloud_download"),s)),o.a.createElement("button",{onClick:function(){return i(c)},type:"button",className:C.a.fullscreenButton},o.a.createElement("i",{className:"material-icons",style:{pointerEvents:"none"}},"zoom_out_map")))},N=a(3),I=a.n(N),M=function(e){var t=e.images,a=e.onClick,n=e.openModal;return o.a.createElement(o.a.Fragment,null,o.a.createElement("ul",{className:I.a.gallery},t.map(function(e){return o.a.createElement("li",{key:e.id,className:I.a.photocard},o.a.createElement(k,{webformatURL:e.webformatURL,type:e.type,likes:e.likes,views:e.views,comments:e.comments,downloads:e.downloads,largeImageURL:e.largeImageURL,openModal:n}))})),o.a.createElement("button",{type:"button",className:I.a.button,onClick:a},"Load more"))},L=a(5),S=a.n(L),x=function(e){var t=e.imgUrl,a=e.onClick;return o.a.createElement("div",{onClick:a,className:S.a.basicLightbox},o.a.createElement("div",{className:S.a.modalContent},o.a.createElement("img",{src:t,width:"800",height:"600",alt:""})))},O=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(p.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(o)))).state={images:[],isOpen:!1,largeImageUrl:"",query:"",page:1},a.handleChange=function(e){a.setState({query:e.target.value})},a.fetchImgAsyncAwait=Object(m.a)(c.a.mark(function e(){var t,n,o,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,n=t.query,o=t.page,e.next=3,y(n,o);case 3:r=e.sent,a.setState(function(e){return{page:+e.page+1,images:[].concat(Object(i.a)(e.images),Object(i.a)(r.data.hits))}});case 5:case"end":return e.stop()}},e)})),a.loadMore=function(){a.fetchImgAsyncAwait(),window.scrollBy(0,window.innerHeight)},a.handleSubmit=function(e){e.preventDefault(),a.setState({page:1,images:[]}),a.fetchImgAsyncAwait()},a.openModal=function(e){a.setState({isOpen:!0,largeImageUrl:e})},a.closeModal=function(e){"IMG"!==e.target.nodeName&&a.setState({isOpen:!1})},a.escKeyDown=function(){a.setState({isOpen:!1})},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.fetchImgAsyncAwait(),window.addEventListener("keydown",this.escKeyDown)}},{key:"componentDidUpdate",value:function(e,t){var a=this.state.images;t.images.length!==a.length&&window.scrollBy({top:window.innerHeight,behavior:"smooth"})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.escKeyDown)}},{key:"render",value:function(){var e=this.state,t=e.images,a=e.query,n=e.isOpen,r=e.largeImageUrl;return o.a.createElement("div",null,o.a.createElement(v,{onSubmit:this.handleSubmit,onChange:this.handleChange,value:a}),o.a.createElement(M,{openModal:this.openModal,images:t,onClick:this.loadMore}),n&&o.a.createElement(x,{onClick:this.closeModal,imgUrl:r}))}}]),t}(n.Component);s.a.render(o.a.createElement(O,null),document.getElementById("root"))},5:function(e,t,a){e.exports={basicLightbox:"Modal_basicLightbox__2z2qw",modalContent:"Modal_modalContent__2YwnK"}}},[[25,1,2]]]);
//# sourceMappingURL=main.91364f64.chunk.js.map