{"version":3,"sources":["components/PhotoCard/PhotoCard.module.css","components/SearchForm/SearchForm.module.css","components/Gallery/Gallery.module.css","services/imgList.js","components/SearchForm/SearchForm.js","components/PhotoCard/PhotoCard.js","components/Gallery/Gallery.js","components/Modal/Modal.js","components/App.js","index.js","components/Modal/Modal.module.css"],"names":["module","exports","fetchImg","query","page","axios","get","SearchForm","value","onSubmit","onChange","className","s","searchform","name","type","autoComplete","placeholder","PhotoCard","likes","views","comments","downloads","webformatURL","largeImageURL","openModal","photoCard","img","src","alt","stats","statsItem","onClick","fullscreenButton","style","pointerEvents","Gallery","images","gallery","map","image","key","id","photocard","button","Modal","imgUrl","basicLightbox","modalContent","width","height","App","state","isOpen","largeImageUrl","handleChange","e","setState","target","fetchImgAsyncAwait","a","api","responce","data","hits","loadMore","window","scrollBy","innerHeight","handleSubmit","preventDefault","closeModal","nodeName","escKeyDown","this","addEventListener","prevProps","prevState","length","top","behavior","removeEventListener","Component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.91364f64.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"photoCard\":\"PhotoCard_photoCard__3MENn\",\"img\":\"PhotoCard_img__1fJWt\",\"stats\":\"PhotoCard_stats__1jT7L\",\"statsItem\":\"PhotoCard_statsItem__gG7Ic\",\"fullscreenButton\":\"PhotoCard_fullscreenButton__2SMwR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchform\":\"SearchForm_searchform__2a8hE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"Gallery_gallery__olLPN\",\"button\":\"Gallery_button__3zjxj\"};","import axios from 'axios';\n\nconst URL =\n  'https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=';\nconst PAGE = '&page=';\nconst KEY = '&per_page=12&key=13241537-06d8871706b8937518ecf25ca';\n\nexport const fetchImg = (query, page) => {\n  return axios.get(URL + query + PAGE + page + KEY);\n};\n\nexport const w = () => {};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './SearchForm.module.css';\n\nconst SearchForm = ({ value, onSubmit, onChange }) => {\n  return (\n    <form onSubmit={onSubmit} className={s.searchform}>\n      <input\n        name=\"query\"\n        onChange={onChange}\n        value={value}\n        type=\"text\"\n        autoComplete=\"off\"\n        placeholder=\"Search images...\"\n      />\n    </form>\n  );\n};\n\nSearchForm.propTypes = {\n  value: PropTypes.string.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired,\n};\n\nexport default SearchForm;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './PhotoCard.module.css';\n\nconst PhotoCard = ({\n  type,\n  likes,\n  views,\n  comments,\n  downloads,\n  webformatURL,\n  largeImageURL,\n  openModal,\n}) => (\n  <div className={s.photoCard}>\n    <img className={s.img} src={webformatURL} alt={type} />\n    <div className={s.stats}>\n      <p className={s.statsItem}>\n        <i className=\"material-icons\">thumb_up</i>\n        {likes}\n      </p>\n      <p className={s.statsItem}>\n        <i className=\"material-icons\">visibility</i>\n        {views}\n      </p>\n      <p className={s.statsItem}>\n        <i className=\"material-icons\">comment</i>\n        {comments}\n      </p>\n      <p className={s.statsItem}>\n        <i className=\"material-icons\">cloud_download</i>\n        {downloads}\n      </p>\n    </div>\n    <button\n      onClick={() => openModal(largeImageURL)}\n      type=\"button\"\n      className={s.fullscreenButton}\n    >\n      <i className=\"material-icons\" style={{ pointerEvents: 'none' }}>\n        zoom_out_map\n      </i>\n    </button>\n  </div>\n);\n\nPhotoCard.propTypes = {\n  type: PropTypes.string.isRequired,\n  likes: PropTypes.number.isRequired,\n  views: PropTypes.number.isRequired,\n  comments: PropTypes.number.isRequired,\n  downloads: PropTypes.number.isRequired,\n  webformatURL: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  openModal: PropTypes.func.isRequired,\n};\n\nexport default PhotoCard;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport PhotoCard from '../PhotoCard/PhotoCard';\nimport s from './Gallery.module.css';\n\nconst Gallery = ({ images, onClick, openModal }) => {\n  return (\n    <>\n      <ul className={s.gallery}>\n        {images.map(image => (\n          <li key={image.id} className={s.photocard}>\n            <PhotoCard\n              webformatURL={image.webformatURL}\n              type={image.type}\n              likes={image.likes}\n              views={image.views}\n              comments={image.comments}\n              downloads={image.downloads}\n              largeImageURL={image.largeImageURL}\n              openModal={openModal}\n            />\n          </li>\n        ))}\n      </ul>\n      <button type=\"button\" className={s.button} onClick={onClick}>\n        Load more\n      </button>\n    </>\n  );\n};\n\nGallery.propTypes = {\n  onClick: PropTypes.func.isRequired,\n  openModal: PropTypes.func.isRequired,\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      webformatURL: PropTypes.string.isRequired,\n      likes: PropTypes.number.isRequired,\n      views: PropTypes.number.isRequired,\n      comments: PropTypes.number.isRequired,\n      downloads: PropTypes.number.isRequired,\n    }),\n  ).isRequired,\n};\nexport default Gallery;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Modal.module.css';\n\nconst Modal = ({ imgUrl, onClick }) => {\n  return (\n    <div onClick={onClick} className={s.basicLightbox}>\n      <div className={s.modalContent}>\n        <img src={imgUrl} width=\"800\" height=\"600\" alt=\"\" />\n      </div>\n    </div>\n  );\n};\n\nModal.propTypes = {\n  imgUrl: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Modal;\n","import React, { Component } from 'react';\n\nimport * as api from '../services/imgList';\n\nimport SearchForm from './SearchForm/SearchForm';\nimport Gallery from './Gallery/Gallery';\nimport Modal from './Modal/Modal';\n\nclass App extends Component {\n  state = {\n    images: [],\n    isOpen: false,\n    largeImageUrl: '',\n    query: '',\n    page: 1,\n  };\n\n  componentDidMount() {\n    this.fetchImgAsyncAwait();\n    window.addEventListener('keydown', this.escKeyDown);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { images } = this.state;\n    if (prevState.images.length !== images.length) {\n      window.scrollBy({\n        top: window.innerHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.escKeyDown);\n  }\n\n  handleChange = e => {\n    this.setState({ query: e.target.value });\n  };\n\n  fetchImgAsyncAwait = async () => {\n    const { query, page } = this.state;\n    const responce = await api.fetchImg(query, page);\n    this.setState(s => ({\n      page: +s.page + 1,\n      images: [...s.images, ...responce.data.hits],\n    }));\n  };\n\n  loadMore = () => {\n    this.fetchImgAsyncAwait();\n    window.scrollBy(0, window.innerHeight);\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    this.setState({\n      page: 1,\n      images: [],\n    });\n    this.fetchImgAsyncAwait();\n  };\n\n  openModal = largeImageUrl => {\n    this.setState({\n      isOpen: true,\n      largeImageUrl,\n    });\n  };\n\n  closeModal = e => {\n    if (e.target.nodeName !== 'IMG') {\n      this.setState({\n        isOpen: false,\n      });\n    }\n  };\n\n  // scrollBy = () => {\n  //   // const top = window.innerHeight;\n  //   window.scrollBy({\n  //     top: window.innerHeight,\n  //     left: 0,\n  //     behavior: 'smooth',\n  //   });\n  // };\n\n  escKeyDown = () => {\n    this.setState({\n      isOpen: false,\n    });\n  };\n\n  render() {\n    const { images, query, isOpen, largeImageUrl } = this.state;\n    return (\n      <div>\n        <SearchForm\n          onSubmit={this.handleSubmit}\n          onChange={this.handleChange}\n          value={query}\n        />\n        <Gallery\n          openModal={this.openModal}\n          images={images}\n          onClick={this.loadMore}\n        />\n        {isOpen && <Modal onClick={this.closeModal} imgUrl={largeImageUrl} />}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"basicLightbox\":\"Modal_basicLightbox__2z2qw\",\"modalContent\":\"Modal_modalContent__2YwnK\"};"],"sourceRoot":""}